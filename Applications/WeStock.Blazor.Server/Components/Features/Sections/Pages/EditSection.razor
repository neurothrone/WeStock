@page "/sections/edit"
@rendermode InteractiveServer

<PageTitle>Edit Section</PageTitle>

@if (_section is null)
{
    <CenteredCircularIndicator/>
}
else
{
    <h3>Edit Section</h3>

    <EditForm Model="_section"
              OnValidSubmit="UpdateSection">
        <DataAnnotationsValidator/>

        <div class="form-group">
            <label for="name">Name</label>
            <InputText id="name"
                       class="form-control"
                       @bind-Value="_section.Name"/>
            <ValidationMessage For="() => _section.Name"/>
        </div>

        <div class="d-flex justify-content-start my-3">
            <button type="submit"
                    class="btn btn-primary me-3"
                    disabled="@(!_section.IsValid)">
                Save
            </button>
            <button type="button"
                    class="btn btn-secondary"
                    @onclick="NavigateBack">
                Cancel
            </button>
        </div>
    </EditForm>
}